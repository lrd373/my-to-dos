(()=>{"use strict";const t=(()=>{let t=[{name:"bob",list:[1,2,3]},{name:"fred",list:[1,2,3]}];return{getProject:e=>t.find((t=>t.name==e)),getProjects:()=>t,addProject:e=>{t.push(e)},deleteProject:()=>{},setCurrentProject:()=>{}}})(),e=(()=>{const t=t=>{var e;try{e=window[t];var n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}};let e=[];t("localStorage")&&localStorage.getItem("_list")?(console.log("Local storage available"),e=JSON.parse(localStorage.getItem("_list")),console.log("After get"),console.log(e)):console.log("No local storage available");const o=()=>{console.log("trying to set local storage"),t("localStorage")&&localStorage.setItem("_list",JSON.stringify(e))};return{addToList:(t,i,l,r)=>{let d=((t,e,n,o)=>({itemId:((t,e)=>{let n="";return t&&(n+=t.charAt(0)),e&&(n+=e.charAt(0)),n+=Math.ceil(1e4*Math.random())*Math.ceil(1e4*Math.random()),n})(t,e),itemTitle:t,itemDescription:e,itemDueDate:n,itemPriority:o}))(t,i,l,r);e.push(d),o(),n()},removeFromList:t=>{console.log("remove triggered");let i=e.findIndex((e=>e.itemId==t));-1!==i&&e.splice(i,1),console.log(e),o(),n()},getList:()=>e}})(),n=()=>{const t=document.querySelector("#content");let n=document.querySelector("#list-container");if(n)for(;n.firstChild;)n.removeChild(n.firstChild);else n=document.createElement("div");n.setAttribute("id","list-container"),e.getList().forEach((t=>{n.appendChild((t=>{let n=t.itemId,o=t.itemTitle,i=t.itemDescription,l=t.itemDueDate,r=t.itemPriority,d=document.createElement("div");d.classList.add("list-item-container"),d.setAttribute("id",n);let a=document.createElement("button");a.classList.add("remove-item-button"),a.textContent="x",a.addEventListener("click",(()=>{e.removeFromList(n)}));let c=document.createElement("div");c.classList.add("item-text-div");let m=document.createElement("h3");m.classList.add("list-item-title"),m.textContent=o;let s=document.createElement("p");s.classList.add("list-item-description"),s.textContent=i,c.appendChild(m),c.appendChild(s);let u=document.createElement("p");u.classList.add("list-item-duedate"),u.textContent=l;let p=document.createElement("p");return p.classList.add("list-item-priority"),p.textContent=`Priority: ${r}`,d.appendChild(a),d.appendChild(c),d.appendChild(u),d.appendChild(p),d})(t))})),t.appendChild(n)},o=(()=>{const t=document.querySelector("#content");let n=document.createElement("div");n.setAttribute("id","form-container");const i=()=>{n.style.display="none"};return{generateForm:()=>{let l=document.createElement("form"),r=document.createElement("button");r.setAttribute("id","form-exit-button"),r.textContent="x",r.addEventListener("click",i),l.appendChild(r);let d=document.createElement("label");d.setAttribute("for","title-input"),d.textContent="Title";let a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("id","title-input"),l.appendChild(d),l.appendChild(a);let c=document.createElement("label");c.setAttribute("for","description-input"),c.textContent="Description";let m=document.createElement("textarea");m.setAttribute("id","description-input"),l.appendChild(c),l.appendChild(m);let s=document.createElement("label");s.setAttribute("for","due-date"),s.textContent="Due Date";let u=document.createElement("input");u.setAttribute("id","due-date"),u.setAttribute("type","date"),l.appendChild(s),l.appendChild(u);let p=document.createElement("label");p.setAttribute("for","priority"),p.setAttribute("id","priority-label"),p.textContent="Priority";let C=document.createElement("select");C.setAttribute("id","priority"),C.setAttribute("name","priority");let h=document.createElement("option");h.setAttribute("value","high"),h.textContent="High";let b=document.createElement("option");b.setAttribute("value","medium"),b.textContent="Medium";let E=document.createElement("option");E.setAttribute("value","low"),E.textContent="Low",C.appendChild(h),C.appendChild(b),C.appendChild(E),l.appendChild(p),l.appendChild(C);let A=document.createElement("button");A.setAttribute("type","button"),A.textContent="Add to list",A.addEventListener("click",(()=>{e.addToList(a.value,m.value,u.value,C.value),o.closeForm()})),l.appendChild(A),n.appendChild(l),t.appendChild(n)},launchForm:()=>{n.style.display="block"},closeForm:i}})(),i=(()=>{const t=document.querySelector("#content");let e=document.createElement("div");e.setAttribute("id","project-form-container");const n=()=>{e.style.display="none"};return{generateForm:()=>{let o=document.createElement("form"),l=document.createElement("button");l.setAttribute("id","form-exit-button"),l.textContent="x",l.addEventListener("click",n),o.appendChild(l);let r=document.createElement("label");r.setAttribute("for","name-input"),r.textContent="Project Name";let d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","name-input"),o.appendChild(r),o.appendChild(d);let a=document.createElement("button");a.setAttribute("type","button"),a.textContent="Create project",a.addEventListener("click",(()=>{console.log("clicked!!!"),i.closeForm()})),o.appendChild(a),e.appendChild(o),t.appendChild(e)},launchForm:()=>{e.style.display="block"},closeForm:n}})(),l=document.querySelector("#content");(()=>{o.generateForm();let e=document.createElement("header"),n=document.createElement("div");n.setAttribute("id","header-container");let r=document.createElement("h1");r.textContent="My To-Dos",n.appendChild(r);let d=document.createElement("button");d.setAttribute("id","add-button"),d.textContent="+",d.addEventListener("click",(()=>{o.launchForm()})),n.appendChild(d),e.appendChild(n);let a=t.getProjects(),c=document.querySelector("#project-button-container");if(c)for(;c.firstChild;)c.removeChild(c.firstChild);else c=document.createElement("div"),c.setAttribute("id","project-button-container");i.generateForm();let m=document.createElement("button");m.setAttribute("id","add-project-button"),m.textContent="+",m.addEventListener("click",(()=>{i.launchForm()})),c.appendChild(m),a.forEach((t=>{(t=>{let e=document.createElement("button");e.classList.add("project-button"),e.setAttribute("type","button"),e.textContent=t.name,c.appendChild(e)})(t)})),e.appendChild(c),l.appendChild(e)})(),n()})();